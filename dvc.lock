schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/PDFMalware2022.csv
      md5: 8529a5c7dd9ef3b658a5efe8f1633b3f
      size: 1572585
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/load_data.py
      md5: 1428adb89210ed88bb6becc5de9cb57e
      size: 1517
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/preprocess_data.py
      md5: f79559b09e20a47464585bab74d53492
      size: 2431
    - path: src/preprocessing.py
      md5: 214fc1366c48d62f9a3c4976f53a010e
      size: 4241
    outs:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e5d4926bb43240f0196cb486749a8e5a
      size: 1308864
  feature_selection:
    cmd: python src/feature_selection.py --config=params.yaml
    deps:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e5d4926bb43240f0196cb486749a8e5a
      size: 1308864
    - path: src/feature_selection.py
      md5: f4b628bfb143cea3fd9cebce5d57f48e
      size: 2777
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/processed/PDFMalware2022_final.csv
      md5: e43c0aeed1ed74aaed035b11e41eee0d
      size: 943770
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/PDFMalware2022_final.csv
      md5: e43c0aeed1ed74aaed035b11e41eee0d
      size: 943770
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/split_data.py
      md5: 87ff634c8c5b245715bc33e0728d30a6
      size: 2082
    outs:
    - path: data/processed/test_PDFMalware2022.csv
      md5: 2e8db37c4f0329dac0df1e2e4323fa37
      size: 283170
    - path: data/processed/train_PDFMalware2022.csv
      md5: 3a8157c1475e29f2662b41816b4058bf
      size: 660780
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/test_PDFMalware2022.csv
      md5: 2e8db37c4f0329dac0df1e2e4323fa37
      size: 283170
    - path: data/processed/train_PDFMalware2022.csv
      md5: 3a8157c1475e29f2662b41816b4058bf
      size: 660780
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/train_and_evaluate.py
      md5: 22c096ac4790a635d631d2dbfe4642ec
      size: 5508
    params:
      params.yaml:
        estimators.RandomForestClassifier.params.criterion: gini
        estimators.RandomForestClassifier.params.max_depth: 94
        estimators.RandomForestClassifier.params.max_features: auto
        estimators.RandomForestClassifier.params.min_samples_leaf: 5
        estimators.RandomForestClassifier.params.min_samples_split: 4
        estimators.RandomForestClassifier.params.n_estimators: 50
    outs:
    - path: report/params.json
      md5: a53fe94d15b66a85755aa6e154aff5d4
      size: 155
    - path: report/scores.json
      md5: 0ca0e445e86f5561bb59a4a8f0dc7b22
      size: 103
    - path: saved_models/model.joblib
      md5: 5877140e684a49fc97df70232a3d21aa
      size: 645616
