schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/PDFMalware2022.csv
      md5: 8529a5c7dd9ef3b658a5efe8f1633b3f
      size: 1572585
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/load_data.py
      md5: 1428adb89210ed88bb6becc5de9cb57e
      size: 1517
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/preprocess_data.py
      md5: f805dfcd583239f05ade015eb9ce109c
      size: 2432
    - path: src/preprocessing.py
      md5: fd8b0344bd3709d086365641d604e56e
      size: 5368
    outs:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e5d4926bb43240f0196cb486749a8e5a
      size: 1308864
  feature_selection:
    cmd: python src/feature_selection.py --config=params.yaml
    deps:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e5d4926bb43240f0196cb486749a8e5a
      size: 1308864
    - path: src/feature_selection.py
      md5: 1b74522decd94fd0a7d2382ead6d3389
      size: 1487
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/processed/PDFMalware2022_final.csv
      md5: e43c0aeed1ed74aaed035b11e41eee0d
      size: 943770
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/PDFMalware2022_final.csv
      md5: e43c0aeed1ed74aaed035b11e41eee0d
      size: 943770
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/split_data.py
      md5: 87ff634c8c5b245715bc33e0728d30a6
      size: 2082
    outs:
    - path: data/processed/test_PDFMalware2022.csv
      md5: 2e8db37c4f0329dac0df1e2e4323fa37
      size: 283170
    - path: data/processed/train_PDFMalware2022.csv
      md5: 3a8157c1475e29f2662b41816b4058bf
      size: 660780
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/test_PDFMalware2022.csv
      md5: 2e8db37c4f0329dac0df1e2e4323fa37
      size: 283170
    - path: data/processed/train_PDFMalware2022.csv
      md5: 3a8157c1475e29f2662b41816b4058bf
      size: 660780
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/train_and_evaluate.py
      md5: 22c096ac4790a635d631d2dbfe4642ec
      size: 5508
    params:
      params.yaml:
        estimators.RandomForestClassifier.params.criterion: gini
        estimators.RandomForestClassifier.params.max_depth: 50
        estimators.RandomForestClassifier.params.max_features: auto
        estimators.RandomForestClassifier.params.min_samples_leaf: 6
        estimators.RandomForestClassifier.params.min_samples_split: 8
        estimators.RandomForestClassifier.params.n_estimators: 100
    outs:
    - path: report/params.json
      md5: b287196699aaf7f61f1b1ed20ee0db13
      size: 156
    - path: report/scores.json
      md5: 8e3584af6bffac8fb50306089e4ab96a
      size: 102
    - path: saved_models/model.joblib
      md5: cbdee767d8ddf32b122efdde0f50a22e
      size: 1199864
