schema: '2.0'
stages:
  load_data:
    cmd: python src/load_data.py --config=params.yaml
    deps:
    - path: data_given/PDFMalware2022.csv
      md5: 8529a5c7dd9ef3b658a5efe8f1633b3f
      size: 1572585
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/load_data.py
      md5: 1428adb89210ed88bb6becc5de9cb57e
      size: 1517
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
  preprocess_data:
    cmd: python src/preprocess_data.py --config=params.yaml
    deps:
    - path: data/raw/PDFMalware2022.csv
      md5: e7ac2d3e4335bf744cc2db21a13c86e3
      size: 1783442
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/preprocess_data.py
      md5: f740cdfd246a69d8096f7ecce91f630b
      size: 2311
    - path: src/preprocessing.py
      md5: 214fc1366c48d62f9a3c4976f53a010e
      size: 4241
    outs:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e7f4ccdd70591e6fdf520a2f865954da
      size: 1049185
  feature_selection:
    cmd: python src/feature_selection.py --config=params.yaml
    deps:
    - path: data/processed/preprocesssed_PDFMalware2022.csv
      md5: e7f4ccdd70591e6fdf520a2f865954da
      size: 1049185
    - path: src/feature_selection.py
      md5: 2396ec1c0fbaae77de7c1edbf8e03710
      size: 2764
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    outs:
    - path: data/processed/PDFMalware2022_final.csv
      md5: f3d1ae7e40b6cffd53feaa6e5ac1fcaa
      size: 743315
  split_data:
    cmd: python src/split_data.py --config=params.yaml
    deps:
    - path: data/processed/PDFMalware2022_final.csv
      md5: f3d1ae7e40b6cffd53feaa6e5ac1fcaa
      size: 743315
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/split_data.py
      md5: 87ff634c8c5b245715bc33e0728d30a6
      size: 2082
    outs:
    - path: data/processed/test_PDFMalware2022.csv
      md5: f10c6e8b1273cb49234907b9fe0dcb08
      size: 223000
    - path: data/processed/train_PDFMalware2022.csv
      md5: 91d11a27478228040b23a9c08b0c8c7b
      size: 520494
  train_and_evaluate:
    cmd: python src/train_and_evaluate.py --config=params.yaml
    deps:
    - path: data/processed/test_PDFMalware2022.csv
      md5: f10c6e8b1273cb49234907b9fe0dcb08
      size: 223000
    - path: data/processed/train_PDFMalware2022.csv
      md5: 91d11a27478228040b23a9c08b0c8c7b
      size: 520494
    - path: src/get_data.py
      md5: df34ab3f02456f27392d406714551b0e
      size: 2032
    - path: src/logger.py
      md5: 5a1c5fb48374b319e00b5609b77129f9
      size: 416
    - path: src/train_and_evaluate.py
      md5: 22c096ac4790a635d631d2dbfe4642ec
      size: 5508
    params:
      params.yaml:
        estimators.RandomForestClassifier.params.criterion: gini
        estimators.RandomForestClassifier.params.max_depth: 94
        estimators.RandomForestClassifier.params.max_features: auto
        estimators.RandomForestClassifier.params.min_samples_leaf: 1
        estimators.RandomForestClassifier.params.min_samples_split: 4
        estimators.RandomForestClassifier.params.n_estimators: 50
    outs:
    - path: report/params.json
      md5: 62091a90b497fce5e0e4475a3989f220
      size: 155
    - path: report/scores.json
      md5: b9716d70a5e3e65057361678415e6fb3
      size: 102
    - path: saved_models/model.joblib
      md5: ed50978ebb3fd0a4dd71a58b39942577
      size: 849120
